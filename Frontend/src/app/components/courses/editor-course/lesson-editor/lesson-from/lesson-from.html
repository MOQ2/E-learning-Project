<div class="lesson-form">
  <div class="form-sections-wrapper">
    <section class="card">
      <h2 class="card-title">Lesson details</h2>
      <div class="form-grid">

        <div class="form-group full-width">
          <label for="lesson-title">Title (max 250 chars)</label>
          <input type="text" id="lesson-title" class="form-control" [(ngModel)]="lesson!.title" name="lessonTitle">
        </div>

        <div class="form-group full-width">
          <label for="lesson-explanation">Explanation (rich text)</label>
          <div class="rich-text-editor">
            <div class="toolbar">
              <button type="button">H1</button>
              <button type="button">H2</button>
              <button type="button">Bold</button>
              <button type="button">Italic</button>
              <button type="button">Quote</button>
            </div>
            <textarea id="lesson-explanation" class="form-control" rows="5" [(ngModel)]="lesson!.explanation" name="lessonExplanation"></textarea>
          </div>
        </div>

        <div class="form-group full-width">
          <label>What We Will Learn (bullet points)</label>
          <div class="scrollable-list">
            <ol class="bullet-list numbered-list" start="3">
              <li *ngFor="let item of lesson!.whatWeWillLearn; let i = index; trackBy: trackByIndex">
                <input type="text" class="form-control" [(ngModel)]="lesson!.whatWeWillLearn[i]" [name]="'whatWeWillLearn' + i">
                <button type="button" class="btn-remove" (click)="removeBullet('whatWeWillLearn', i)">Remove</button>
              </li>
            </ol>
          </div>
          <button type="button" class="btn-add" (click)="addBullet('whatWeWillLearn')">+ Add bullet</button>
        </div>

        <div class="form-group">
          <label for="video-data">Video Data (only one)</label>
          <input type="file" id="video-data" class="form-control file-input" placeholder="Upload video file">
        </div>

        <div class="form-group">
          <label for="thumbnail-data">Thumbnail Data (only one)</label>
          <input type="file" id="thumbnail-data" class="form-control file-input" placeholder="Upload thumbnail image">
        </div>

        <div class="form-group">
          <label for="duration">Duration (in minutes)</label>
          <input type="number" id="duration" class="form-control" placeholder="e.g., 16" [(ngModel)]="lesson!.duration" name="duration">
        </div>

        <div class="form-group">
          <label>Status</label>
          <div class="status-toggle">
            <input type="radio" id="status-inactive" value="Inactive" name="lesson-status" [(ngModel)]="lesson!.status">
            <label for="status-inactive" class="btn tag">Inactive</label>

            <input type="radio" id="status-active" value="Active" name="lesson-status" [(ngModel)]="lesson!.status">
            <label for="status-active" class="btn tag">Active</label>
          </div>
        </div>

        <div class="form-group full-width">
          <label>Prerequisites (bullet points)</label>
          <div class="scrollable-list">
            <ul class="bullet-list">
              <li *ngFor="let item of lesson!.prerequisites; let i = index; trackBy: trackByIndex">
                <input type="text" class="form-control" [(ngModel)]="lesson!.prerequisites[i]" [name]="'prerequisite' + i">
                <button type="button" class="btn-remove" (click)="removeBullet('prerequisites', i)">Remove</button>
              </li>
            </ul>
          </div>
          <button type="button" class="btn-add" (click)="addBullet('prerequisites')">+ Add prerequisite</button>
        </div>

      </div>
    </section>

    <section class="card">
      <h2 class="card-title">Attachments</h2>
      <div class="attachment-list scrollable-list">
        <div class="attachment-item" *ngFor="let attachment of lesson!.attachments; let i = index">
          <input type="file" class="form-control file-input" (change)="onFileSelected($event, i)">
          <input type="text" class="form-control" placeholder="Display name" [(ngModel)]="attachment.displayName" [name]="'attachmentName' + i">
          <button type="button" class="btn-remove" (click)="removeAttachment(i)">Remove</button>
        </div>
      </div>
      <button type="button" class="btn-add" (click)="addAttachment()">+ Add attachment</button>
    </section>

  </div>
</div>
