<div class="course_view_page-1" *ngIf="!loading">
  <div class="container-26">
    <div class="background-border-27">
      <div class="horizontalborder-28">
        <div class="iconify-icon-29"></div>
        <div class="container-34">
          <p class="text-35">{{ courseData?.name }}</p>
        </div>
        <div class="margin-36" *ngIf="courseData?.category">
          <div class="background-37">
            <p class="text-43">Category: {{ courseData?.category }}</p>
          </div>
        </div>
      </div>

      <div class="container-44">
        <div class="background-border-45">
          <div class="container-46">
            <div class="background-border-47">
              <img [src]="courseData?.thumbnailUrl" class="node-48" alt="Course Image" />
            </div>
            <div class="container-49">
              <div class="container-50">
                <div class="background-51">
                  <p class="text-57">{{ courseData?.estimatedDurationInHours }}h content</p>
                </div>
                <div class="background-58">
                  <p class="text-65">{{ courseData?.modules?.length || 0 }} modules</p>
                </div>
                <div class="background-66" *ngIf="courseData?.certificate !== false">
                  <p class="text-72">Certificate</p>
                </div>
              </div>

              <div class="background-border-73">
                <p class="text-74">{{ courseData?.description }}</p>
              </div>

              <div class="container-75">
                <div class="background-border-76" *ngIf="courseData?.difficultyLevel">
                  <p class="text-77">Level: {{ courseData?.difficultyLevel }}</p>
                </div>
                <div class="background-border-78">
                  <p class="text-79">Language: {{ courseData?.language || 'English' }}</p>
                </div>
              </div>
            </div>
          </div>

          <div class="background-border-80">
            <div class="container-81">
              <p class="text-82">What you'll learn</p>
            </div>
            <div class="container-83">
              <div class="background-border-84" *ngFor="let item of courseData?.whatYouWillLearn; let i = index">
                <p class="text-85">{{ item }}</p>
              </div>
              <div class="background-border-84" *ngIf="!(courseData?.whatYouWillLearn?.length)">
                <p class="text-85">No objectives provided.</p>
              </div>
            </div>
          </div>

          <div class="background-border-92">
            <div class="container-93">
              <p class="text-94">Modules overview</p>
            </div>
            <div class="container-95">
              <div class="background-border-96" *ngFor="let m of courseData?.modules | slice:0:10">
                <div class="container-97"></div>
                <div class="container-103">
                  <div class="container-104">
                    <p class="text-105">{{ m.order ? ('Module ' + m.order + ': ') : '' }}{{ m.name }}</p>
                  </div>
                  <div class="container-106">
                    <p class="text-107">{{ m.description }}</p>
                  </div>
                </div>
                <div class="background-108">
                  <p class="text-109">{{ m.active ? (m.previewAvailable ? 'Preview lesson' : '') : 'Locked' }}</p>
                </div>
              </div>
            </div>
          </div>

          <div class="background-border-180">
            <div class="container-181">
              <p class="text-182">Included resources</p>
            </div>
            <div class="container-183">
              <div class="background-border-184" *ngFor="let r of courseData?.resources">
                <p class="text-185">{{ r }}</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="background-border-192">
      <div class="horizontalborder-193">
        <div class="iconify-icon-194"></div>
        <div class="container-199">
          <p class="text-200">Get access</p>
        </div>
      </div>

      <div class="container-201">
        <div class="container-202">
          <div class="container-203">
            <p class="text-204">{{ courseData?.currency }}{{ courseData?.oneTimePrice }}</p>
          </div>
          <div class="background-205">
            <p class="text-206">One-time</p>
          </div>
        </div>

        <div class="border-207">
          <div class="container-208">
            <p class="text-209">Or choose a plan</p>
          </div>
          <div class="container-210">
            <div class="background-border-211" *ngIf="courseData?.plans?.monthly">
              <button class="text-212" (click)="onSelectPlan('monthly', courseData?.plans?.monthly)">Monthly • {{ courseData?.currency }}{{ courseData?.plans?.monthly }}</button>
            </div>
            <div class="background-border-213" *ngIf="courseData?.plans?.annual">
              <button class="text-214" (click)="onSelectPlan('annual', courseData?.plans?.annual)">Annual • {{ courseData?.currency }}{{ courseData?.plans?.annual }}</button>
            </div>
          </div>
        </div>

        <div class="container-215">
          <div class="background-216" role="button" (click)="onSubscribeOneTime()">
            <p class="text-222"><span class="text-white"> Subscribe to course</span></p>
          </div>
          <div class="background-border-223" role="button" (click)="onPreview()">
            <p class="text-227"> Preview first lesson</p>
          </div>
          <div class="container-228">
            <p class="text-229">7-day refund guarantee. Access all modules and resources.</p>
          </div>
        </div>

        <div class="horizontal-divider-230"></div>

        <div class="container-231">
          <div class="border-232">
            <img [src]="courseData?.instructorAvatar || 'https://placehold.co/40x40/f8fafc/b099ad?text=A'" class="avatar2-jpg-233" alt="avatar" />
          </div>
          <div class="container-234">
            <div class="container-235">
              <p class="text-236">{{ courseData?.instructor || 'Instructor' }}</p>
            </div>
            <div class="container-237">
              <p class="text-238">{{ courseData?.instructorTitle || 'Instructor title' }}</p>
            </div>
          </div>
        </div>

        <div class="background-border-239">
          <p class="text-240">Last updated: {{ courseData?.lastUpdated | date:'MMM yyyy' }}</p>
        </div>
        <div class="background-border-241">
          <p class="text-242">Language: {{ courseData?.language || 'English' }}</p>
        </div>
        <div class="background-border-243">
          <p class="text-244">Subtitles: {{ courseData?.subtitles?.join(', ') || '—' }}</p>
        </div>
      </div>
    </div>
  </div>

  <div *ngIf="error" class="error">{{ error }}</div>
</div>

<div *ngIf="loading" style="padding:20px">Loading course...</div>
